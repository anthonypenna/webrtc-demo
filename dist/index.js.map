{"version":3,"sources":["../src/utils.js","../src/property.js","../src/render.js","../src/emitter.js","../src/cache.js","../src/define.js","../src/parent.js","../src/children.js","../../src/template/utils.js","../../../src/template/resolvers/array.js","../../../src/template/resolvers/value.js","../../../src/template/resolvers/event.js","../../../src/template/resolvers/class.js","../../../src/template/resolvers/style.js","../../../src/template/resolvers/property.js","../../src/template/core.js","../../src/template/helpers.js","../../src/template/index.js","../src/index.js","../node_modules/writable-store/dist/index.js","stores/index.ts","components/App.ts","index.ts"],"names":["camelToDashMap","Map","camelToDash","str","result","get","undefined","replace","toLowerCase","set","pascalToDash","dispatch","host","eventType","options","dispatchEvent","CustomEvent","bubbles","shadyCSS","fn","fallback","shady","window","ShadyCSS","nativeShadow","stringifyElement","target","String","tagName","IS_IE","deferred","Promise","resolve","defaultTransform","v","objectTransform","value","TypeError","Object","freeze","property","connect","type","transform","Number","Boolean","val","oldValue","key","invalidate","attrName","hasAttribute","attrValue","getAttribute","render","customOptions","shadowRoot","shadowRootInit","mode","assign","update","attachShadow","observe","flush","callbacks","WeakMap","queue","Set","execute","forEach","delete","e","size","requestAnimationFrame","add","subscribe","cb","entries","getEntry","targetMap","entry","contexts","deps","state","checksum","observed","calculateChecksum","depEntry","dispatchDeep","emitter","restoreDeepDeps","contextStack","getter","has","Error","context","nextValue","setter","newValue","clearValue","lastValue","unsubscribe","process","walkInShadow","updateQueue","defaultMethod","callbacksMap","propsMap","compile","Hybrid","descriptors","hybrids","props","keys","desc","config","Array","isArray","defineProperty","prototype","cache","enumerable","configurable","unshift","push","disconnects","defineElement","hybridsOrConstructor","CustomElement","customElements","define","HTMLElement","index","length","hasOwnProperty","call","list","defineMap","elements","reduce","acc","walk","node","parentElement","parentNode","constructor","parent","hybridsOrFn","items","from","children","child","deep","nested","observer","MutationObserver","childList","subtree","disconnect","map","dataMap","defaultValue","getTemplateEnd","data","endNode","removeTemplate","nodeType","Node","TEXT_NODE","childNodes","removeChild","startNode","lastNextSibling","nextSibling","arrayMap","movePlaceholder","previousSibling","insertBefore","prevNode","nextNode","resolveArray","resolveValue","lastEntries","item","id","placeholder","available","ids","filter","lastIndex","matchedEntry","i","document","createTextNode","textContent","targets","resolveEventListener","eventMap","removeEventListener","callback","bind","addEventListener","normalizeValue","className","classMap","resolveClassList","previousList","classList","remove","styleMap","resolveStyle","previousMap","nextMap","dashKey","styleValue","style","setProperty","removeProperty","resolveProperty","propertyName","isSVG","substr","resolveStyleList","SVGElement","removeAttribute","setAttribute","TIMESTAMP","Date","now","getPlaceholder","PLACEHOLDER_REGEXP_TEXT","PLACEHOLDER_REGEXP_EQUAL","RegExp","PLACEHOLDER_REGEXP_ALL","ATTR_PREFIX","ATTR_REGEXP","preparedTemplates","applyShadyCSS","template","clone","createElement","content","appendChild","cloneNode","styles","querySelectorAll","count","prepareTemplate","createSignature","parts","signature","part","slice","join","match","getPropertyName","string","split","pop","replaceComments","fragment","iterator","createNodeIterator","NodeFilter","SHOW_COMMENT","test","createInternalWalker","currentNode","createExternalWalker","createTreeWalker","SHOW_ELEMENT","SHOW_TEXT","createWalker","ShadyDOM","inUse","container","styleSheetsMap","compileTemplate","rawParts","innerHTML","svgRoot","firstChild","compileWalker","compileIndex","text","results","before","next","equal","ELEMENT_NODE","attributes","attr","trim","name","partialName","args","styleSheets","prevArgs","importNode","renderWalker","clonedParts","renderIndex","currentPart","shift","markers","previousChild","adoptedStyleSheets","isEqual","CSSStyleSheet","styleSheet","replaceSync","marker","styleSubtree","styleElement","setCache","arguments","promiseMap","promise","delay","timeout","setTimeout","then","clearTimeout","PLACEHOLDER","SVG_PLACEHOLDER","STYLE_IMPORT_REGEXP","templatesMap","stylesMap","methods","create","createTemplate","hasAdoptedStyleSheets","joinedStyles","html","svg","helpers","r","t"],"mappings":"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","file":"index.js","sourceRoot":"../src","sourcesContent":["const camelToDashMap = new Map();\nexport function camelToDash(str) {\n  let result = camelToDashMap.get(str);\n  if (result === undefined) {\n    result = str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n    camelToDashMap.set(str, result);\n  }\n  return result;\n}\n\nexport function pascalToDash(str) {\n  return camelToDash(str.replace(/((?!([A-Z]{2}|^))[A-Z])/g, \"-$1\"));\n}\n\nexport function dispatch(host, eventType, options = {}) {\n  return host.dispatchEvent(\n    new CustomEvent(eventType, { bubbles: false, ...options }),\n  );\n}\n\nexport function shadyCSS(fn, fallback) {\n  const shady = window.ShadyCSS;\n\n  /* istanbul ignore next */\n  if (shady && !shady.nativeShadow) {\n    return fn(shady);\n  }\n\n  return fallback;\n}\n\nexport function stringifyElement(target) {\n  return `<${String(target.tagName).toLowerCase()}>`;\n}\n\nexport const IS_IE = \"ActiveXObject\" in window;\nexport const deferred = Promise.resolve();\n","import { camelToDash } from \"./utils.js\";\n\nconst defaultTransform = v => v;\n\nconst objectTransform = value => {\n  if (typeof value !== \"object\") {\n    throw TypeError(`Assigned value must be an object: ${typeof value}`);\n  }\n  return value && Object.freeze(value);\n};\n\nexport default function property(value, connect) {\n  const type = typeof value;\n  let transform = defaultTransform;\n\n  switch (type) {\n    case \"string\":\n      transform = String;\n      break;\n    case \"number\":\n      transform = Number;\n      break;\n    case \"boolean\":\n      transform = Boolean;\n      break;\n    case \"function\":\n      transform = value;\n      value = transform();\n      break;\n    case \"object\":\n      if (value) Object.freeze(value);\n      transform = objectTransform;\n      break;\n    default:\n      break;\n  }\n\n  return {\n    get: (host, val = value) => val,\n    set: (host, val, oldValue) => transform(val, oldValue),\n    connect:\n      type !== \"object\" && type !== \"undefined\"\n        ? (host, key, invalidate) => {\n            if (host[key] === value) {\n              const attrName = camelToDash(key);\n\n              if (host.hasAttribute(attrName)) {\n                const attrValue = host.getAttribute(attrName);\n                host[key] =\n                  attrValue === \"\" && transform === Boolean ? true : attrValue;\n              }\n            }\n\n            return connect && connect(host, key, invalidate);\n          }\n        : connect,\n  };\n}\n","export default function render(fn, customOptions = {}) {\n  if (typeof fn !== \"function\") {\n    throw TypeError(`The first argument must be a function: ${typeof fn}`);\n  }\n\n  const options = { shadowRoot: true, ...customOptions };\n  const shadowRootInit = { mode: \"open\" };\n\n  if (typeof options.shadowRoot === \"object\") {\n    Object.assign(shadowRootInit, options.shadowRoot);\n  }\n\n  return {\n    get(host) {\n      const update = fn(host);\n      let target = host;\n\n      if (options.shadowRoot) {\n        if (!host.shadowRoot) host.attachShadow(shadowRootInit);\n        target = host.shadowRoot;\n      }\n\n      return function flush() {\n        update(host, target);\n        return target;\n      };\n    },\n    observe(host, flush) {\n      flush();\n    },\n  };\n}\n","const callbacks = new WeakMap();\nconst queue = new Set();\n\nfunction execute() {\n  try {\n    queue.forEach(target => {\n      try {\n        callbacks.get(target)();\n        queue.delete(target);\n      } catch (e) {\n        queue.delete(target);\n        throw e;\n      }\n    });\n  } catch (e) {\n    if (queue.size) execute();\n    throw e;\n  }\n}\n\nexport function dispatch(target) {\n  if (!queue.size) {\n    requestAnimationFrame(execute);\n  }\n  queue.add(target);\n}\n\nexport function subscribe(target, cb) {\n  callbacks.set(target, cb);\n  dispatch(target);\n\n  return function unsubscribe() {\n    queue.delete(target);\n    callbacks.delete(target);\n  };\n}\n","import * as emitter from \"./emitter.js\";\n\nconst entries = new WeakMap();\nexport function getEntry(target, key) {\n  let targetMap = entries.get(target);\n  if (!targetMap) {\n    targetMap = new Map();\n    entries.set(target, targetMap);\n  }\n\n  let entry = targetMap.get(key);\n\n  if (!entry) {\n    entry = {\n      target,\n      key,\n      value: undefined,\n      contexts: undefined,\n      deps: undefined,\n      state: 0,\n      checksum: 0,\n      observed: false,\n    };\n    targetMap.set(key, entry);\n  }\n\n  return entry;\n}\n\nfunction calculateChecksum(entry) {\n  let checksum = entry.state;\n  if (entry.deps) {\n    entry.deps.forEach(depEntry => {\n      checksum += depEntry.state;\n    });\n  }\n\n  return checksum;\n}\n\nfunction dispatchDeep(entry) {\n  if (entry.observed) emitter.dispatch(entry);\n  if (entry.contexts) entry.contexts.forEach(dispatchDeep);\n}\n\nfunction restoreDeepDeps(entry, deps) {\n  if (deps) {\n    deps.forEach(depEntry => {\n      entry.deps.add(depEntry);\n\n      if (entry.observed) {\n        /* istanbul ignore if */\n        if (!depEntry.contexts) depEntry.contexts = new Set();\n        depEntry.contexts.add(entry);\n      }\n\n      restoreDeepDeps(entry, depEntry.deps);\n    });\n  }\n}\n\nconst contextStack = new Set();\nexport function get(target, key, getter) {\n  const entry = getEntry(target, key);\n\n  if (contextStack.size && contextStack.has(entry)) {\n    throw Error(`Circular get invocation is forbidden: '${key}'`);\n  }\n\n  contextStack.forEach(context => {\n    if (!context.deps) context.deps = new Set();\n    context.deps.add(entry);\n\n    if (context.observed) {\n      if (!entry.contexts) entry.contexts = new Set();\n      entry.contexts.add(context);\n    }\n  });\n\n  if (entry.checksum && entry.checksum === calculateChecksum(entry)) {\n    return entry.value;\n  }\n\n  try {\n    contextStack.add(entry);\n\n    if (entry.observed && entry.deps && entry.deps.size) {\n      entry.deps.forEach(depEntry => {\n        /* istanbul ignore else */\n        if (depEntry.contexts) depEntry.contexts.delete(entry);\n      });\n    }\n\n    entry.deps = undefined;\n    const nextValue = getter(target, entry.value);\n\n    if (entry.deps) {\n      entry.deps.forEach(depEntry => {\n        restoreDeepDeps(entry, depEntry.deps);\n      });\n    }\n\n    if (nextValue !== entry.value) {\n      entry.state += 1;\n      entry.value = nextValue;\n\n      dispatchDeep(entry);\n    }\n\n    entry.checksum = calculateChecksum(entry);\n    contextStack.delete(entry);\n  } catch (e) {\n    entry.checksum = 0;\n\n    contextStack.delete(entry);\n    contextStack.forEach(context => {\n      context.deps.delete(entry);\n      if (context.observed) entry.contexts.delete(context);\n    });\n\n    throw e;\n  }\n\n  return entry.value;\n}\n\nexport function set(target, key, setter, value) {\n  const entry = getEntry(target, key);\n  const newValue = setter(target, value, entry.value);\n\n  if (newValue !== entry.value) {\n    entry.checksum = 0;\n    entry.state += 1;\n    entry.value = newValue;\n\n    dispatchDeep(entry);\n  }\n}\n\nexport function invalidate(target, key, clearValue) {\n  if (contextStack.size) {\n    throw Error(\n      `Invalidating property in chain of get calls is forbidden: '${key}'`,\n    );\n  }\n\n  const entry = getEntry(target, key);\n\n  entry.checksum = 0;\n  entry.state += 1;\n\n  dispatchDeep(entry);\n\n  if (clearValue) {\n    entry.value = undefined;\n  }\n}\n\nexport function observe(target, key, getter, fn) {\n  const entry = getEntry(target, key);\n  entry.observed = true;\n\n  let lastValue;\n  const unsubscribe = emitter.subscribe(entry, () => {\n    const value = get(target, key, getter);\n    if (value !== lastValue) {\n      fn(target, value, lastValue);\n      lastValue = value;\n    }\n  });\n\n  if (entry.deps) {\n    entry.deps.forEach(depEntry => {\n      /* istanbul ignore else */\n      if (!depEntry.contexts) depEntry.contexts = new Set();\n      depEntry.contexts.add(entry);\n    });\n  }\n\n  return function unobserve() {\n    unsubscribe();\n    entry.observed = false;\n    if (entry.deps && entry.deps.size) {\n      entry.deps.forEach(depEntry => {\n        /* istanbul ignore else */\n        if (depEntry.contexts) depEntry.contexts.delete(entry);\n      });\n    }\n  };\n}\n","import property from \"./property.js\";\nimport render from \"./render.js\";\n\nimport * as cache from \"./cache.js\";\nimport { pascalToDash, deferred } from \"./utils.js\";\n\n/* istanbul ignore next */\ntry { process.env.NODE_ENV } catch(e) { var process = { env: { NODE_ENV: 'production' } }; } // eslint-disable-line\n\nconst defaultMethod = (host, value) => value;\n\nconst callbacksMap = new WeakMap();\nconst propsMap = new WeakMap();\n\nfunction compile(Hybrid, descriptors) {\n  Hybrid.hybrids = descriptors;\n\n  const callbacks = [];\n  const props = Object.keys(descriptors);\n\n  callbacksMap.set(Hybrid, callbacks);\n  propsMap.set(Hybrid, props);\n\n  props.forEach(key => {\n    const desc = descriptors[key];\n    const type = typeof desc;\n\n    let config;\n\n    if (type === \"function\") {\n      config = key === \"render\" ? render(desc) : { get: desc };\n    } else if (type !== \"object\" || desc === null || Array.isArray(desc)) {\n      config = property(desc);\n    } else {\n      config = {\n        get: desc.get || defaultMethod,\n        set: desc.set || (!desc.get && defaultMethod) || undefined,\n        connect: desc.connect,\n        observe: desc.observe,\n      };\n    }\n\n    Object.defineProperty(Hybrid.prototype, key, {\n      get: function get() {\n        return cache.get(this, key, config.get);\n      },\n      set:\n        config.set &&\n        function set(newValue) {\n          cache.set(this, key, config.set, newValue);\n        },\n      enumerable: true,\n      configurable: process.env.NODE_ENV !== \"production\",\n    });\n\n    if (config.observe) {\n      callbacks.unshift(host =>\n        cache.observe(host, key, config.get, config.observe),\n      );\n    }\n\n    if (config.connect) {\n      callbacks.push(host =>\n        config.connect(host, key, () => {\n          cache.invalidate(host, key);\n        }),\n      );\n    }\n  });\n}\n\nlet update;\n/* istanbul ignore else */\nif (process.env.NODE_ENV !== \"production\") {\n  const walkInShadow = (node, fn) => {\n    fn(node);\n\n    Array.from(node.children).forEach(el => walkInShadow(el, fn));\n\n    if (node.shadowRoot) {\n      Array.from(node.shadowRoot.children).forEach(el => walkInShadow(el, fn));\n    }\n  };\n\n  const updateQueue = new Map();\n  update = (Hybrid, lastHybrids) => {\n    if (!updateQueue.size) {\n      deferred.then(() => {\n        walkInShadow(document.body, node => {\n          if (updateQueue.has(node.constructor)) {\n            const hybrids = updateQueue.get(node.constructor);\n            node.disconnectedCallback();\n\n            Object.keys(node.constructor.hybrids).forEach(key => {\n              cache.invalidate(\n                node,\n                key,\n                node.constructor.hybrids[key] !== hybrids[key],\n              );\n            });\n\n            node.connectedCallback();\n          }\n        });\n        updateQueue.clear();\n      });\n    }\n    updateQueue.set(Hybrid, lastHybrids);\n  };\n}\n\nconst disconnects = new WeakMap();\n\nfunction defineElement(tagName, hybridsOrConstructor) {\n  const type = typeof hybridsOrConstructor;\n  if (type !== \"object\" && type !== \"function\") {\n    throw TypeError(`Second argument must be an object or a function: ${type}`);\n  }\n\n  const CustomElement = window.customElements.get(tagName);\n\n  if (type === \"function\") {\n    if (CustomElement !== hybridsOrConstructor) {\n      return window.customElements.define(tagName, hybridsOrConstructor);\n    }\n    return CustomElement;\n  }\n\n  if (CustomElement) {\n    if (CustomElement.hybrids === hybridsOrConstructor) {\n      return CustomElement;\n    }\n    if (process.env.NODE_ENV !== \"production\" && CustomElement.hybrids) {\n      Object.keys(CustomElement.hybrids).forEach(key => {\n        delete CustomElement.prototype[key];\n      });\n\n      const lastHybrids = CustomElement.hybrids;\n\n      compile(CustomElement, hybridsOrConstructor);\n      update(CustomElement, lastHybrids);\n\n      return CustomElement;\n    }\n\n    throw Error(`Element '${tagName}' already defined`);\n  }\n\n  class Hybrid extends HTMLElement {\n    static get name() {\n      return tagName;\n    }\n\n    constructor() {\n      super();\n\n      const props = propsMap.get(Hybrid);\n\n      for (let index = 0; index < props.length; index += 1) {\n        const key = props[index];\n        if (Object.prototype.hasOwnProperty.call(this, key)) {\n          const value = this[key];\n          delete this[key];\n          this[key] = value;\n        }\n      }\n    }\n\n    connectedCallback() {\n      const callbacks = callbacksMap.get(Hybrid);\n      const list = [];\n\n      for (let index = 0; index < callbacks.length; index += 1) {\n        const cb = callbacks[index](this);\n        if (cb) list.push(cb);\n      }\n\n      disconnects.set(this, list);\n    }\n\n    disconnectedCallback() {\n      const list = disconnects.get(this);\n      for (let index = 0; index < list.length; index += 1) {\n        list[index]();\n      }\n    }\n  }\n\n  compile(Hybrid, hybridsOrConstructor);\n  customElements.define(tagName, Hybrid);\n\n  return Hybrid;\n}\n\nfunction defineMap(elements) {\n  return Object.keys(elements).reduce((acc, key) => {\n    const tagName = pascalToDash(key);\n    acc[key] = defineElement(tagName, elements[key]);\n\n    return acc;\n  }, {});\n}\n\nexport default function define(...args) {\n  if (typeof args[0] === \"object\") {\n    return defineMap(args[0]);\n  }\n\n  return defineElement(...args);\n}\n","function walk(node, fn) {\n  let parentElement = node.parentElement || node.parentNode.host;\n\n  while (parentElement) {\n    const hybrids = parentElement.constructor.hybrids;\n\n    if (hybrids && fn(hybrids)) {\n      return parentElement;\n    }\n\n    parentElement =\n      parentElement.parentElement ||\n      (parentElement.parentNode && parentElement.parentNode.host);\n  }\n\n  return parentElement || null;\n}\n\nexport default function parent(hybridsOrFn) {\n  const fn =\n    typeof hybridsOrFn === \"function\"\n      ? hybridsOrFn\n      : hybrids => hybrids === hybridsOrFn;\n  return {\n    get: host => walk(host, fn),\n    connect(host, key, invalidate) {\n      const target = host[key];\n      if (target) {\n        return invalidate;\n      }\n      return false;\n    },\n  };\n}\n","function walk(node, fn, options, items = []) {\n  Array.from(node.children).forEach(child => {\n    const hybrids = child.constructor.hybrids;\n    if (hybrids && fn(hybrids)) {\n      items.push(child);\n      if (options.deep && options.nested) {\n        walk(child, fn, options, items);\n      }\n    } else if (options.deep) {\n      walk(child, fn, options, items);\n    }\n  });\n\n  return items;\n}\n\nexport default function children(\n  hybridsOrFn,\n  options = { deep: false, nested: false },\n) {\n  const fn =\n    typeof hybridsOrFn === \"function\"\n      ? hybridsOrFn\n      : hybrids => hybrids === hybridsOrFn;\n  return {\n    get(host) {\n      return walk(host, fn, options);\n    },\n    connect(host, key, invalidate) {\n      const observer = new MutationObserver(invalidate);\n\n      observer.observe(host, {\n        childList: true,\n        subtree: !!options.deep,\n      });\n\n      return () => {\n        observer.disconnect();\n      };\n    },\n  };\n}\n","const map = new WeakMap();\nexport const dataMap = {\n  get(key, defaultValue) {\n    const value = map.get(key);\n    if (value) return value;\n\n    if (defaultValue) {\n      map.set(key, defaultValue);\n    }\n\n    return defaultValue;\n  },\n  set(key, value) {\n    map.set(key, value);\n    return value;\n  },\n};\n\nexport function getTemplateEnd(node) {\n  let data;\n  // eslint-disable-next-line no-cond-assign\n  while (node && (data = dataMap.get(node)) && data.endNode) {\n    node = data.endNode;\n  }\n\n  return node;\n}\n\nexport function removeTemplate(target) {\n  if (target.nodeType !== Node.TEXT_NODE) {\n    let child = target.childNodes[0];\n    while (child) {\n      target.removeChild(child);\n      child = target.childNodes[0];\n    }\n  } else {\n    const data = dataMap.get(target);\n\n    if (data.startNode) {\n      const endNode = getTemplateEnd(data.endNode);\n\n      let node = data.startNode;\n      const lastNextSibling = endNode.nextSibling;\n\n      while (node) {\n        const nextSibling = node.nextSibling;\n        node.parentNode.removeChild(node);\n        node = nextSibling !== lastNextSibling && nextSibling;\n      }\n    }\n  }\n}\n","import { dataMap, removeTemplate, getTemplateEnd } from \"../utils.js\";\n\nexport const arrayMap = new WeakMap();\n\nfunction movePlaceholder(target, previousSibling) {\n  const data = dataMap.get(target);\n  const startNode = data.startNode;\n  const endNode = getTemplateEnd(data.endNode);\n\n  previousSibling.parentNode.insertBefore(target, previousSibling.nextSibling);\n\n  let prevNode = target;\n  let node = startNode;\n  while (node) {\n    const nextNode = node.nextSibling;\n    prevNode.parentNode.insertBefore(node, prevNode.nextSibling);\n    prevNode = node;\n    node = nextNode !== endNode.nextSibling && nextNode;\n  }\n}\n\nexport default function resolveArray(host, target, value, resolveValue) {\n  let lastEntries = arrayMap.get(target);\n  const entries = value.map((item, index) => ({\n    id: Object.prototype.hasOwnProperty.call(item, \"id\") ? item.id : index,\n    value: item,\n    placeholder: null,\n    available: true,\n  }));\n\n  arrayMap.set(target, entries);\n\n  if (lastEntries) {\n    const ids = new Set();\n    entries.forEach(entry => ids.add(entry.id));\n\n    lastEntries = lastEntries.filter(entry => {\n      if (!ids.has(entry.id)) {\n        removeTemplate(entry.placeholder);\n        entry.placeholder.parentNode.removeChild(entry.placeholder);\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  let previousSibling = target;\n  const lastIndex = value.length - 1;\n  const data = dataMap.get(target);\n\n  for (let index = 0; index < entries.length; index += 1) {\n    const entry = entries[index];\n    let matchedEntry;\n    if (lastEntries) {\n      for (let i = 0; i < lastEntries.length; i += 1) {\n        if (lastEntries[i].available && lastEntries[i].id === entry.id) {\n          matchedEntry = lastEntries[i];\n          break;\n        }\n      }\n    }\n\n    let placeholder;\n    if (matchedEntry) {\n      matchedEntry.available = false;\n      placeholder = matchedEntry.placeholder;\n\n      if (placeholder.previousSibling !== previousSibling) {\n        movePlaceholder(placeholder, previousSibling);\n      }\n      if (matchedEntry.value !== entry.value) {\n        resolveValue(host, placeholder, entry.value);\n      }\n    } else {\n      placeholder = document.createTextNode(\"\");\n      previousSibling.parentNode.insertBefore(\n        placeholder,\n        previousSibling.nextSibling,\n      );\n      resolveValue(host, placeholder, entry.value);\n    }\n\n    previousSibling = getTemplateEnd(\n      dataMap.get(placeholder).endNode || placeholder,\n    );\n\n    if (index === 0) data.startNode = placeholder;\n    if (index === lastIndex) data.endNode = previousSibling;\n\n    entry.placeholder = placeholder;\n  }\n\n  if (lastEntries) {\n    lastEntries.forEach(entry => {\n      if (entry.available) {\n        removeTemplate(entry.placeholder);\n        entry.placeholder.parentNode.removeChild(entry.placeholder);\n      }\n    });\n  }\n}\n","import { dataMap, removeTemplate } from \"../utils.js\";\nimport resolveArray, { arrayMap } from \"./array.js\";\n\nexport default function resolveValue(host, target, value) {\n  const type = Array.isArray(value) ? \"array\" : typeof value;\n  let data = dataMap.get(target, {});\n\n  if (data.type !== type) {\n    removeTemplate(target);\n    if (type === \"array\") arrayMap.delete(target);\n\n    data = dataMap.set(target, { type });\n\n    if (target.textContent !== \"\") {\n      target.textContent = \"\";\n    }\n  }\n\n  switch (type) {\n    case \"function\":\n      value(host, target);\n      break;\n    case \"array\":\n      resolveArray(host, target, value, resolveValue);\n      break;\n    default:\n      target.textContent = type === \"number\" || value ? value : \"\";\n  }\n}\n","const targets = new WeakMap();\n\nexport default function resolveEventListener(eventType) {\n  return (host, target, value, lastValue) => {\n    if (lastValue) {\n      const eventMap = targets.get(target);\n      if (eventMap) {\n        target.removeEventListener(\n          eventType,\n          eventMap.get(lastValue),\n          lastValue.options !== undefined ? lastValue.options : false,\n        );\n      }\n    }\n\n    if (value) {\n      if (typeof value !== \"function\") {\n        throw Error(`Event listener must be a function: ${typeof value}`);\n      }\n\n      let eventMap = targets.get(target);\n      if (!eventMap) {\n        eventMap = new WeakMap();\n        targets.set(target, eventMap);\n      }\n\n      const callback = value.bind(null, host);\n      eventMap.set(value, callback);\n\n      target.addEventListener(\n        eventType,\n        callback,\n        value.options !== undefined ? value.options : false,\n      );\n    }\n  };\n}\n","function normalizeValue(value, set = new Set()) {\n  if (Array.isArray(value)) {\n    value.forEach(className => set.add(className));\n  } else if (value !== null && typeof value === \"object\") {\n    Object.keys(value).forEach(key => value[key] && set.add(key));\n  } else {\n    set.add(value);\n  }\n\n  return set;\n}\n\nconst classMap = new WeakMap();\n\nexport default function resolveClassList(host, target, value) {\n  const previousList = classMap.get(target) || new Set();\n  const list = normalizeValue(value);\n\n  classMap.set(target, list);\n\n  list.forEach(className => {\n    target.classList.add(className);\n    previousList.delete(className);\n  });\n\n  previousList.forEach(className => {\n    target.classList.remove(className);\n  });\n}\n","import { camelToDash, stringifyElement } from \"../../utils.js\";\n\nconst styleMap = new WeakMap();\n\nexport default function resolveStyle(host, target, value) {\n  if (value === null || typeof value !== \"object\") {\n    throw TypeError(\n      `Style value must be an object in ${stringifyElement(target)}:`,\n      value,\n    );\n  }\n\n  const previousMap = styleMap.get(target) || new Map();\n\n  const nextMap = Object.keys(value).reduce((map, key) => {\n    const dashKey = camelToDash(key);\n    const styleValue = value[key];\n\n    if (!styleValue && styleValue !== 0) {\n      target.style.removeProperty(dashKey);\n    } else {\n      target.style.setProperty(dashKey, styleValue);\n    }\n\n    map.set(dashKey, styleValue);\n    previousMap.delete(dashKey);\n\n    return map;\n  }, new Map());\n\n  previousMap.forEach((styleValue, key) => {\n    target.style[key] = \"\";\n  });\n\n  styleMap.set(target, nextMap);\n}\n","import resolveEventListener from \"./event.js\";\nimport resolveClassList from \"./class.js\";\nimport resolveStyleList from \"./style.js\";\n\nexport default function resolveProperty(attrName, propertyName, isSVG) {\n  if (propertyName.substr(0, 2) === \"on\") {\n    const eventType = propertyName.substr(2);\n    return resolveEventListener(eventType);\n  }\n\n  switch (attrName) {\n    case \"class\":\n      return resolveClassList;\n    case \"style\":\n      return resolveStyleList;\n    default:\n      return (host, target, value) => {\n        if (\n          !isSVG &&\n          !(target instanceof SVGElement) &&\n          propertyName in target\n        ) {\n          if (target[propertyName] !== value) {\n            target[propertyName] = value;\n          }\n        } else if (value === false || value === undefined || value === null) {\n          target.removeAttribute(attrName);\n        } else {\n          const attrValue = value === true ? \"\" : String(value);\n          target.setAttribute(attrName, attrValue);\n        }\n      };\n  }\n}\n","import { stringifyElement, shadyCSS, IS_IE } from \"../utils.js\";\nimport { dataMap, removeTemplate } from \"./utils.js\";\n\nimport resolveValue from \"./resolvers/value.js\";\nimport resolveProperty from \"./resolvers/property.js\";\n\n/* istanbul ignore next */\ntry { process.env.NODE_ENV } catch(e) { var process = { env: { NODE_ENV: 'production' } }; } // eslint-disable-line\n\nconst TIMESTAMP = Date.now();\n\nexport const getPlaceholder = (id = 0) => `{{h-${TIMESTAMP}-${id}}}`;\n\nconst PLACEHOLDER_REGEXP_TEXT = getPlaceholder(\"(\\\\d+)\");\nconst PLACEHOLDER_REGEXP_EQUAL = new RegExp(`^${PLACEHOLDER_REGEXP_TEXT}$`);\nconst PLACEHOLDER_REGEXP_ALL = new RegExp(PLACEHOLDER_REGEXP_TEXT, \"g\");\n\nconst ATTR_PREFIX = `--${TIMESTAMP}--`;\nconst ATTR_REGEXP = new RegExp(ATTR_PREFIX, \"g\");\n\nconst preparedTemplates = new WeakMap();\n\n/* istanbul ignore next */\nfunction applyShadyCSS(template, tagName) {\n  if (!tagName) return template;\n\n  return shadyCSS(shady => {\n    let map = preparedTemplates.get(template);\n    if (!map) {\n      map = new Map();\n      preparedTemplates.set(template, map);\n    }\n\n    let clone = map.get(tagName);\n\n    if (!clone) {\n      clone = document.createElement(\"template\");\n      clone.content.appendChild(template.content.cloneNode(true));\n\n      map.set(tagName, clone);\n\n      const styles = clone.content.querySelectorAll(\"style\");\n\n      Array.from(styles).forEach(style => {\n        const count = style.childNodes.length + 1;\n        for (let i = 0; i < count; i += 1) {\n          style.parentNode.insertBefore(\n            document.createTextNode(getPlaceholder()),\n            style,\n          );\n        }\n      });\n\n      shady.prepareTemplate(clone, tagName.toLowerCase());\n    }\n    return clone;\n  }, template);\n}\n\nfunction createSignature(parts, styles) {\n  let signature = parts.reduce((acc, part, index) => {\n    if (index === 0) {\n      return part;\n    }\n\n    if (\n      parts\n        .slice(index)\n        .join(\"\")\n        .match(/^\\s*<\\/\\s*(table|tr|thead|tbody|tfoot|colgroup)>/)\n    ) {\n      return `${acc}<!--${getPlaceholder(index - 1)}-->${part}`;\n    }\n    return acc + getPlaceholder(index - 1) + part;\n  }, \"\");\n\n  if (styles) {\n    signature += `<style>\\n${styles.join(\"\\n/*------*/\\n\")}\\n</style>`;\n  }\n\n  /* istanbul ignore if */\n  if (IS_IE) {\n    return signature.replace(\n      /style\\s*=\\s*([\"][^\"]+[\"]|['][^']+[']|[^\\s\"'<>/]+)/g,\n      match => `${ATTR_PREFIX}${match}`,\n    );\n  }\n\n  return signature;\n}\n\nfunction getPropertyName(string) {\n  return string\n    .replace(/\\s*=\\s*['\"]*$/g, \"\")\n    .split(/\\s+/)\n    .pop();\n}\n\nfunction replaceComments(fragment) {\n  const iterator = document.createNodeIterator(\n    fragment,\n    NodeFilter.SHOW_COMMENT,\n    null,\n    false,\n  );\n  let node;\n  // eslint-disable-next-line no-cond-assign\n  while ((node = iterator.nextNode())) {\n    if (PLACEHOLDER_REGEXP_EQUAL.test(node.textContent)) {\n      node.parentNode.insertBefore(\n        document.createTextNode(node.textContent),\n        node,\n      );\n      node.parentNode.removeChild(node);\n    }\n  }\n}\n\nexport function createInternalWalker(context) {\n  let node;\n\n  return {\n    get currentNode() {\n      return node;\n    },\n    nextNode() {\n      if (node === undefined) {\n        node = context.childNodes[0];\n      } else if (node.childNodes.length) {\n        node = node.childNodes[0];\n      } else if (node.nextSibling) {\n        node = node.nextSibling;\n      } else {\n        let parentNode = node.parentNode;\n        node = parentNode.nextSibling;\n\n        while (!node && parentNode !== context) {\n          parentNode = parentNode.parentNode;\n          node = parentNode.nextSibling;\n        }\n      }\n\n      return !!node;\n    },\n  };\n}\n\nfunction createExternalWalker(context) {\n  return document.createTreeWalker(\n    context,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_TEXT,\n    null,\n    false,\n  );\n}\n\n/* istanbul ignore next */\nconst createWalker =\n  typeof window.ShadyDOM === \"object\" && window.ShadyDOM.inUse\n    ? createInternalWalker\n    : createExternalWalker;\n\nconst container = document.createElement(\"div\");\nconst styleSheetsMap = new Map();\n\nexport function compileTemplate(rawParts, isSVG, styles) {\n  const template = document.createElement(\"template\");\n  const parts = [];\n\n  let signature = createSignature(rawParts, styles);\n  if (isSVG) signature = `<svg>${signature}</svg>`;\n\n  /* istanbul ignore if */\n  if (IS_IE) {\n    template.innerHTML = signature;\n  } else {\n    container.innerHTML = `<template>${signature}</template>`;\n    template.content.appendChild(container.children[0].content);\n  }\n\n  if (isSVG) {\n    const svgRoot = template.content.firstChild;\n    template.content.removeChild(svgRoot);\n    Array.from(svgRoot.childNodes).forEach(node =>\n      template.content.appendChild(node),\n    );\n  }\n\n  replaceComments(template.content);\n\n  const compileWalker = createWalker(template.content);\n  let compileIndex = 0;\n\n  while (compileWalker.nextNode()) {\n    const node = compileWalker.currentNode;\n\n    if (node.nodeType === Node.TEXT_NODE) {\n      const text = node.textContent;\n\n      if (!text.match(PLACEHOLDER_REGEXP_EQUAL)) {\n        const results = text.match(PLACEHOLDER_REGEXP_ALL);\n        if (results) {\n          let currentNode = node;\n          results\n            .reduce(\n              (acc, placeholder) => {\n                const [before, next] = acc.pop().split(placeholder);\n                if (before) acc.push(before);\n                acc.push(placeholder);\n                if (next) acc.push(next);\n                return acc;\n              },\n              [text],\n            )\n            .forEach((part, index) => {\n              if (index === 0) {\n                currentNode.textContent = part;\n              } else {\n                currentNode = currentNode.parentNode.insertBefore(\n                  document.createTextNode(part),\n                  currentNode.nextSibling,\n                );\n              }\n            });\n        }\n      }\n\n      const equal = node.textContent.match(PLACEHOLDER_REGEXP_EQUAL);\n      if (equal) {\n        /* istanbul ignore else */\n        if (!IS_IE) node.textContent = \"\";\n        parts[equal[1]] = [compileIndex, resolveValue];\n      }\n    } else {\n      /* istanbul ignore else */ // eslint-disable-next-line no-lonely-if\n      if (node.nodeType === Node.ELEMENT_NODE) {\n        Array.from(node.attributes).forEach(attr => {\n          const value = attr.value.trim();\n          /* istanbul ignore next */\n          const name = IS_IE ? attr.name.replace(ATTR_PREFIX, \"\") : attr.name;\n          const equal = value.match(PLACEHOLDER_REGEXP_EQUAL);\n          if (equal) {\n            const propertyName = getPropertyName(rawParts[equal[1]]);\n            parts[equal[1]] = [\n              compileIndex,\n              resolveProperty(name, propertyName, isSVG),\n            ];\n            node.removeAttribute(attr.name);\n          } else {\n            const results = value.match(PLACEHOLDER_REGEXP_ALL);\n            if (results) {\n              const partialName = `attr__${name}`;\n\n              results.forEach((placeholder, index) => {\n                const [, id] = placeholder.match(PLACEHOLDER_REGEXP_EQUAL);\n                parts[id] = [\n                  compileIndex,\n                  (host, target, attrValue) => {\n                    const data = dataMap.get(target, {});\n                    data[partialName] = (data[partialName] || value).replace(\n                      placeholder,\n                      attrValue == null ? \"\" : attrValue,\n                    );\n\n                    if (results.length === 1 || index + 1 === results.length) {\n                      target.setAttribute(name, data[partialName]);\n                      data[partialName] = undefined;\n                    }\n                  },\n                ];\n              });\n\n              attr.value = \"\";\n\n              /* istanbul ignore next */\n              if (IS_IE && name !== attr.name) {\n                node.removeAttribute(attr.name);\n                node.setAttribute(name, \"\");\n              }\n            }\n          }\n        });\n      }\n    }\n\n    compileIndex += 1;\n  }\n\n  return function updateTemplateInstance(host, target, args, styleSheets) {\n    const data = dataMap.get(target, { type: \"function\" });\n\n    if (template !== data.template) {\n      if (data.template || target.nodeType === Node.ELEMENT_NODE) {\n        removeTemplate(target);\n      }\n\n      data.prevArgs = null;\n\n      const fragment = document.importNode(\n        applyShadyCSS(template, host.tagName).content,\n        true,\n      );\n\n      const renderWalker = createWalker(fragment);\n      const clonedParts = parts.slice(0);\n\n      let renderIndex = 0;\n      let currentPart = clonedParts.shift();\n\n      const markers = [];\n\n      data.template = template;\n      data.markers = markers;\n\n      while (renderWalker.nextNode()) {\n        const node = renderWalker.currentNode;\n\n        if (node.nodeType === Node.TEXT_NODE) {\n          /* istanbul ignore next */\n          if (PLACEHOLDER_REGEXP_EQUAL.test(node.textContent)) {\n            node.textContent = \"\";\n          } else if (IS_IE) {\n            node.textContent = node.textContent.replace(ATTR_REGEXP, \"\");\n          }\n        } else if (\n          process.env.NODE_ENV !== \"production\" &&\n          node.nodeType === Node.ELEMENT_NODE\n        ) {\n          if (\n            node.tagName.indexOf(\"-\") > -1 &&\n            !customElements.get(node.tagName.toLowerCase())\n          ) {\n            throw Error(\n              `Missing '${stringifyElement(\n                node,\n              )}' element definition in '${stringifyElement(host)}'`,\n            );\n          }\n        }\n\n        while (currentPart && currentPart[0] === renderIndex) {\n          markers.push([node, currentPart[1]]);\n          currentPart = clonedParts.shift();\n        }\n\n        renderIndex += 1;\n      }\n\n      if (target.nodeType === Node.TEXT_NODE) {\n        data.startNode = fragment.childNodes[0];\n        data.endNode = fragment.childNodes[fragment.childNodes.length - 1];\n\n        let previousChild = target;\n\n        let child = fragment.childNodes[0];\n        while (child) {\n          target.parentNode.insertBefore(child, previousChild.nextSibling);\n          previousChild = child;\n          child = fragment.childNodes[0];\n        }\n      } else {\n        target.appendChild(fragment);\n      }\n    }\n\n    const adoptedStyleSheets = target.adoptedStyleSheets;\n    if (styleSheets) {\n      let isEqual = false;\n\n      styleSheets = styleSheets.map(style => {\n        if (style instanceof CSSStyleSheet) return style;\n\n        let styleSheet = styleSheetsMap.get(style);\n        if (!styleSheet) {\n          styleSheet = new CSSStyleSheet();\n          styleSheet.replaceSync(style);\n          styleSheetsMap.set(style, styleSheet);\n        }\n        return styleSheet;\n      });\n\n      if (styleSheets.length === adoptedStyleSheets.length) {\n        isEqual = true;\n        for (let i = 0; i < styleSheets.length; i += 1) {\n          if (styleSheets[i] !== adoptedStyleSheets[i]) {\n            isEqual = false;\n            break;\n          }\n        }\n      }\n\n      if (!isEqual) target.adoptedStyleSheets = styleSheets;\n    } else if (adoptedStyleSheets && adoptedStyleSheets.length) {\n      target.adoptedStyleSheets = [];\n    }\n\n    const prevArgs = data.prevArgs;\n    data.prevArgs = args;\n\n    for (let index = 0; index < data.markers.length; index += 1) {\n      const [node, marker] = data.markers[index];\n      if (!prevArgs || prevArgs[index] !== args[index]) {\n        marker(host, node, args[index], prevArgs ? prevArgs[index] : undefined);\n      }\n    }\n\n    if (target.nodeType !== Node.TEXT_NODE) {\n      shadyCSS(shady => {\n        if (host.shadowRoot) {\n          if (prevArgs) {\n            shady.styleSubtree(host);\n          } else {\n            shady.styleElement(host);\n          }\n        }\n      });\n    }\n  };\n}\n","const setCache = new Map();\nexport function set(propertyName, value) {\n  if (!propertyName)\n    throw Error(`Target property name missing: ${propertyName}`);\n\n  if (arguments.length === 2) {\n    return host => {\n      host[propertyName] = value;\n    };\n  }\n\n  let fn = setCache.get(propertyName);\n\n  if (!fn) {\n    fn = (host, { target }) => {\n      host[propertyName] = target.value;\n    };\n    setCache.set(propertyName, fn);\n  }\n\n  return fn;\n}\n\nconst promiseMap = new WeakMap();\nexport function resolve(promise, placeholder, delay = 200) {\n  return (host, target) => {\n    let timeout;\n\n    if (placeholder) {\n      timeout = setTimeout(() => {\n        timeout = undefined;\n\n        requestAnimationFrame(() => {\n          placeholder(host, target);\n        });\n      }, delay);\n    }\n\n    promiseMap.set(target, promise);\n\n    promise.then(template => {\n      if (timeout) clearTimeout(timeout);\n\n      if (promiseMap.get(target) === promise) {\n        template(host, target);\n        promiseMap.set(target, null);\n      }\n    });\n  };\n}\n","import defineElements from \"../define.js\";\n\nimport { compileTemplate, getPlaceholder } from \"./core.js\";\nimport * as helpers from \"./helpers.js\";\n\nconst PLACEHOLDER = getPlaceholder();\nconst SVG_PLACEHOLDER = getPlaceholder(\"svg\");\nconst STYLE_IMPORT_REGEXP = /@import/;\n\nconst templatesMap = new Map();\nconst stylesMap = new WeakMap();\n\nconst methods = {\n  define(elements) {\n    defineElements(elements);\n    return this;\n  },\n  key(id) {\n    this.id = id;\n    return this;\n  },\n  style(...styles) {\n    stylesMap.set(\n      this,\n      styles.filter(style => style),\n    );\n    return this;\n  },\n};\n\nfunction create(parts, args, isSVG) {\n  const createTemplate = (host, target = host) => {\n    const styles = stylesMap.get(createTemplate);\n    let hasAdoptedStyleSheets;\n    let id = parts.join(PLACEHOLDER);\n\n    if (styles) {\n      const joinedStyles = styles.join(PLACEHOLDER);\n      hasAdoptedStyleSheets =\n        !!target.adoptedStyleSheets && !STYLE_IMPORT_REGEXP.test(joinedStyles);\n      if (!hasAdoptedStyleSheets) id += joinedStyles;\n    }\n\n    if (isSVG) id += SVG_PLACEHOLDER;\n\n    let render = templatesMap.get(id);\n    if (!render) {\n      render = compileTemplate(parts, isSVG, !hasAdoptedStyleSheets && styles);\n      templatesMap.set(id, render);\n    }\n\n    render(host, target, args, hasAdoptedStyleSheets && styles);\n  };\n\n  return Object.assign(createTemplate, methods);\n}\n\nexport function html(parts, ...args) {\n  return create(parts, args);\n}\n\nexport function svg(parts, ...args) {\n  return create(parts, args, true);\n}\n\nObject.assign(html, helpers);\nObject.assign(svg, helpers);\n","export { default as define } from \"./define.js\";\nexport { default as property } from \"./property.js\";\nexport { default as parent } from \"./parent.js\";\nexport { default as children } from \"./children.js\";\nexport { default as render } from \"./render.js\";\n\nexport { dispatch } from \"./utils.js\";\n\nexport { html, svg } from \"./template/index.js\";\n","function e(e){let r=e,t=[];return{get:()=>r,set(e){r=e.call(null,r),t.forEach(e=>e(r))},subscribe:e=>(t.push(e),{unsubscribe(){t=t?t.filter(r=>r!==e):[]}})}}export{e as writable};\n","import { writable } from 'writable-store';\n\nexport type StreamStore = {\n  stream: MediaStream | null;\n  videoTracks: MediaStreamTrack[] | null;\n  constraints: {\n    audio: boolean;\n    video: boolean;\n  };\n};\n\nexport const StreamStore = writable<StreamStore>({\n  stream: null,\n  videoTracks: null,\n  constraints: {\n    audio: true,\n    video: true,\n  },\n});\n","import { html, define, property, render } from 'hybrids';\nimport { StreamStore } from '../stores';\n\ninterface App extends HTMLElement {\n  store: StreamStore | undefined;\n}\n\nasync function onInitStream(host: HTMLElement & App): Promise<void> {\n  const { constraints } = host.store;\n  const stream = await navigator.mediaDevices.getUserMedia(constraints);\n  const videoTracks = stream.getVideoTracks();\n  host.querySelector('video').srcObject = stream;\n  StreamStore.set((store) => ({ ...store, stream, videoTracks }));\n}\n\nconst App = {\n  store: property(StreamStore.get()),\n  render: render(\n    (host: App) => {\n      StreamStore.subscribe((store) => (host.store = store));\n      return html`\n        <div>\n          <div>\n            <video autoplay playsinline></video>\n            <button onclick=${onInitStream}>Join</button>\n          </div>\n        </div>\n      `;\n    },\n    { shadowRoot: false }\n  ),\n};\n\ndefine('webrtc-app', App);\n","import './components/App';\n"]}